using System;
using System.Runtime.CompilerServices;
using Practice.HashTable;
using Practice.MiscProb;
using Practice.ThreadConcepts;
using Practice.Tree;
using Practice.Tree.AVL;
using Practice.Graph;
using Practice.LinkedList;
using Practice.Patterns.Observer;

namespace Practice
{
    class Program
    {
        static void Main(string[] args)
        {
            // ConnectedComponentGraph.Test();
            // CountIslands.Test();
            // ZombieMatrix.Test();


            // ArrayRangeSearch.Test(new[] { 1,2,3,3,3,4,5 }, 3);
            // ArrayRangeSearch.Test(new[] { 2, 2 }, 3);
            // ArrayRangeSearch.Test(new[] { 2, 2,2 }, 2);
            // ArrayRangeSearch.Test(new []{5, 7, 7, 8, 8, 10}, 6);
            //ArrayRangeSearch.Test(new[] { 5, 7, 7, 8, 8, 10, 11 }, 8);
            // SubArray.Test();
            // PascalTriangle.Test();
            //  ArrayInsert.Test();
            //LinkedListTest.Test();
            // ArrayRangeSearch.Test(new[] { 5, 7, 7, 8, 8, 10, 11 }, 10);
            // ArrayRangeSearch.Test(new[] { 5, 7, 7, 8, 8, 10 }, 10);
            // ArrayRangeSearch.Test(new[] { 5, 7, 7, 8, 8, 10, 11 }, 11);

            // TestGraph();
            // Console.WriteLine("");
            // TestAVL();
            // PrintBT();
            //CheckBalancedBST();
            // Console.ReadLine();
            // MonkWatchFight();

            //ThreadExample.Main();

            // new HashTableExample().FindStringLength("Santhosh");

            // MiscProblems.ReverseString("Santhosh");
            // MiscProblems.PalindromeString("xaaxaax");
            //MiscProblems.ReverseInteger(-2147483648);
            //new ArrayTree().Add(10);
            // MiscProblems.ReverseNumber(-121);
            //Console.WriteLine(MiscProblems.LongestPalindrome("abababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababababa"));
            //   Console.WriteLine(MiscProblems.LongestPalindrome("babaddtattarrattatddetartrateedredividerb"));

            // Console.WriteLine(MiscProblems.LongestPalindrome(
            // "kyyrjtdplseovzwjkykrjwhxquwxsfsorjiumvxjhjmgeueafubtonhlerrgsgohfosqssmizcuqryqomsipovhhodpfyudtusjhonlqabhxfahfcjqxyckycstcqwxvicwkjeuboerkmjshfgiglceycmycadpnvoeaurqatesivajoqdilynbcihnidbizwkuaoegmytopzdmvvoewvhebqzskseeubnretjgnmyjwwgcooytfojeuzcuyhsznbcaiqpwcyusyyywqmmvqzvvceylnuwcbxybhqpvjumzomnabrjgcfaabqmiotlfojnyuolostmtacbwmwlqdfkbfikusuqtupdwdrjwqmuudbcvtpieiwteqbeyfyqejglmxofdjksqmzeugwvuniaxdrunyunnqpbnfbgqemvamaxuhjbyzqmhalrprhnindrkbopwbwsjeqrmyqipnqvjqzpjalqyfvaavyhytetllzupxjwozdfpmjhjlrnitnjgapzrakcqahaqetwllaaiadalmxgvpawqpgecojxfvcgxsbrldktufdrogkogbltcezflyctklpqrjymqzyzmtlssnavzcquytcskcnjzzrytsvawkavzboncxlhqfiofuohehaygxidxsofhmhzygklliovnwqbwwiiyarxtoihvjkdrzqsnmhdtdlpckuayhtfyirnhkrhbrwkdymjrjklonyggqnxhfvtkqxoicakzsxmgczpwhpkzcntkcwhkdkxvfnjbvjjoumczjyvdgkfukfuldolqnauvoyhoheoqvpwoisniv"));
            //  MiscProblems.SubArray(new int[] {1, 4, 2, 10, 23, 3, 1, 0, 20}, 3);

            // MiscProblems.Facto(7);
            // MiscProblems.Fibo(9);
            // MiscProblems.Compute();

            ////TestGraph();
            //var l = new LongestCommonSubsequence();
            //Console.WriteLine("AGGTAB - GXTXAYB");
            //Console.WriteLine(l.Find("AGGTAB", "GXTXAYB", 0, 0));
            //TestObserver();
            //var x = new HouseThief();
            // Console.WriteLine(x.Calculate(new int[] { 3, 1, 2, 5, 4, 2 }, 0));
            //Console.WriteLine(new RomanToInteger().RomanToInt("IV"));
            // Console.WriteLine(new ConvertString().Convert("table", "tagable", 0, 0));
            //Console.WriteLine(new ValidParenthesis().IsValidParenthesis("[]({(})"));
            //Console.WriteLine(MiscProblems.Kandanes(new int[] {-2, -3, 4, -1, -2, 1, 5, -3}));
            //Console.WriteLine(MiscProblems.Kandanes(new int[] { -2, -3, 7, -1, -2,-1, 1, 5, -3 }));
            // Wait for user 
            //MiscProblems.Compute();
            // new WaterContainer().Compute(new int[]{ 1, 8, 6, 2, 5, 4, 8, 3, 7 });

            //ThreeSum.Test();
            // new LetterCombination().letterCombinations("234");
            // var x = new LetterCombination();

            //x.letterCombinations("2345");

            //PermutationPalindrome.Test();
            // Combinations.Test();
            // MakingChange.Test(); 
            //MaxProfit.Test();
            // RotateMatrix.Test();
            //TopKFrequent.RecursionTest(new string[]{"xxx", "xx", "er", "df", "ab", "ab", "cert", "cer", "bat", "bat"}, 2);
            //TopKFrequent.FrequentWord(new int[]{1, 1, 1, 2, 2, 3, 3}, 2);
            //TopKFrequent.FrequentWord(new int[] { 1}, 1);
            //TopKFrequent.FrequentWord(new int[] {5, 3, 1, 1, 1, 3, 73, 1}, 2);

            // Dijkstra.Test();
           //LinkedListTest.Test();
            RemoveKthFromLinkedList.Test();
        Console.ReadLine();
        }

        static void TestObserver()
        {
            var ibm = new IBM("IBM", 120.00m);
            ibm.Attach(new Investor("Sorros"));
            ibm.Attach(new Investor("Berkshire"));

            // Fluctuating prices will notify investors

            ibm.Price = 120.10m;
            ibm.Price = 121.00m;
            ibm.Price = 120.50m;
            ibm.Price = 120.75m;
        }

        static void TestGraph()
        { 

                Graph.Graph graph = new Graph.Graph(4);
                graph.Add(0, 1);
                graph.Add(0, 2);
                graph.Add(1, 2);
                graph.Add(2, 0);
                graph.Add(2, 3);
                graph.Add(3, 3);
                graph.BFS(2);
                graph.DFS(2); 
        }

        static void TestAVL()
        {
            //var arr = new int[] { 10, 20, 30, 40, 50, 25 };
            var arr = new int[] { 9, 5, 10, 0, 6, 11, -1, 1, 2 };

            var bst = new AVLTree();

            foreach (var i in arr)
            {
                bst.Add(i);
            }
            Console.WriteLine("");
            bst.PreOrder();

            bst.DeleteNode(10);
            Console.WriteLine("");
            bst.PreOrder();
        }

        static void MonkWatchFight()
        {
           var arrayLength = Convert.ToInt32(Console.ReadLine());
           int[] arr = new int[arrayLength];

           var input = Console.ReadLine();
           var inputArray = input?.Split(' ');

           if (input != null && arrayLength > 0 && inputArray.Length == arrayLength)
           {
               for (int i = 0; i < arrayLength; i++)
               {
                   arr[i] = Convert.ToInt32(inputArray[i]);
               }
           }

           // Console.Write(string.Join(" ", arr));
        
           var bst = new MonkWatchFight();

           foreach (var i in arr)
           {
                bst.Add(i);               
           }

           Console.WriteLine(bst.FindHeight());
           Console.ReadLine();
        }

        static void PrintBT()
        {

            var bst = CreateBST();
            var node = bst.GetNode(25);
            Console.WriteLine("\n Search: " + node?.data);

            Console.WriteLine("Minimum: " + bst.Min()?.data);

            Console.WriteLine("Maximum: " + bst.Max()?.data);

            Console.WriteLine("Successor (45): " + bst.Successor(45)?.data);

            Console.WriteLine("Predecessor (20): " + bst.Predecessor(20)?.data);

            bst.DeleteNode(20);
            Console.WriteLine("\nResult After delete (20): ");
            bst.InOrderTraverse(bst.root);

            bst = CreateBST();
            bst.DeleteNode(25);
            Console.WriteLine("\nResult After delete (25): ");
            bst.InOrderTraverse(bst.root);

            bst = CreateBST();
            bst.DeleteNode(15);
            Console.WriteLine("\nResult After delete (15): ");
            bst.InOrderTraverse(bst.root);

            bst = CreateBST();
            bst.DeleteNode(45);
            Console.WriteLine("\nResult After delete (45): ");
            bst.InOrderTraverse(bst.root);

            bst = CreateBST();
            bst.DeleteNode(70);
            Console.WriteLine("\nResult After delete (70): ");
            bst.InOrderTraverse(bst.root);

            bst = CreateBST();
            Console.WriteLine("\nHeight: " + bst.Height());

            bst.LevelOrder();

        }

        static BinarySearchTree CreateBST()
        {
             var arr = new int[] { 20, 15, 25, 45, 16, 22, 13, 70 };
             
            var bst = new BinarySearchTree();

            foreach (var i in arr)
            {
                bst.Add(i);
            }
            
            Console.WriteLine("\n Printing InOrderTraversal");
            bst.InOrderTraverse(bst.root);
            return bst;
        }

        static void CheckBalancedBST()
        {
            BinaryTreeNode root = new BinaryTreeNode(1);  
            root.InsertLeft(2);
            root.InsertRight(3);
            root.Left.InsertLeft(4);
            root.Left.InsertRight(5);
            root.Right.InsertRight(6);
            root.Left.Left.InsertLeft(7);
            root.Left.Left.InsertRight(8);
            var x = new CheckBinaryTreeBalance();

            /* Constructed binary tree is  
                     1  
                   /   \  
                  2     3  
                 / \   /  
                4   5 6  
               / \ 
              7  8
        */

            if (x.IsBalanced(root))
            {
                Console.WriteLine("Tree is balanced");
            }
            else
            {
                Console.WriteLine("Tree is not balanced");
            }

            Console.WriteLine(x.CountLeafNode(root));
        }

    }
}
